/*!Extend touch.js*/
(function(h){var f={},b,k,g,a,d=750,l;function i(o,n,q,p){return Math.abs(o-n)>=Math.abs(q-p)?(o-n>0?"Left":"Right"):(q-p>0?"Up":"Down")
}function m(){a=null;if(f.last){f.el.trigger("longTap");f={}}}function c(){if(a){clearTimeout(a)}a=null}function e(){if(b){clearTimeout(b)}if(k){clearTimeout(k)}if(g){clearTimeout(g)}if(a){clearTimeout(a)}b=k=g=a=null;f={}}function j(n){return n.pointerType==n.MSPOINTER_TYPE_TOUCH&&n.isPrimary}h(document).ready(function(){var p,r,o=0,n=0,q;if("MSGesture" in window){l=new MSGesture();l.target=document.body}h(document).bind("MSGestureEnd",function(t){var s=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;if(s){f.el.trigger("swipe");f.el.trigger("swipe"+s)}}).on("touchstart MSPointerDown",function(s){if(s.type=="MSPointerDown"&&!j(s)){return}q=s.type=="MSPointerDown"?s:s.touches[0];p=Date.now();r=p-(f.last||p);f.el=h("tagName" in q.target?q.target:q.target.parentNode);b&&clearTimeout(b);f.x1=q.pageX;f.y1=q.pageY;if(r>0&&r<=250){f.isDoubleTap=true}f.last=p;a=setTimeout(m,d);if(l&&s.type=="MSPointerDown"){l.addPointer(s.pointerId)}}).on("touchmove MSPointerMove",function(s){if(s.type=="MSPointerMove"&&!j(s)){return}q=s.type=="MSPointerMove"?s:s.touches[0];c();f.x2=q.pageX;f.y2=q.pageY;o+=Math.abs(f.x1-f.x2);n+=Math.abs(f.y1-f.y2)}).on("touchend MSPointerUp",function(s){if(s.type=="MSPointerUp"&&!j(s)){return}c();if((f.x2&&Math.abs(f.x1-f.x2)>30)||(f.y2&&Math.abs(f.y1-f.y2)>30)){g=setTimeout(function(){f.el.trigger("swipe");f.el.trigger("swipe"+(i(f.x1,f.x2,f.y1,f.y2)));f={}},0)}else{if("last" in f){if(o<30&&n<30){k=setTimeout(function(){var t=h.Event("tap");t.cancelTouch=e;f.el.trigger(t);if(f.isDoubleTap){f.el.trigger("doubleTap");f={}}else{b=setTimeout(function(){b=null;f.el.trigger("singleTap");f={}},250)}},0)}else{f={}}}}o=n=0}).on("touchcancel MSPointerCancel",e);h(window).on("scroll",e)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(n){h.fn[n]=function(o){return this.on(n,o)}})})(Zepto)
